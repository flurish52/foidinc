import{_ as V}from"./AuthenticatedLayout-BXctQaKI.js";import{s as h,g as n,o as l,b as t,F as f,p as w,n as k,t as o,j as q,x as j,i as x,d as C,k as z,m as D,e as U,a as $,f as S,y as O,c as M,w as A,z as L,A as P}from"./app-DucrWc5X.js";import{_ as B}from"./SectionHeader-KLVCzrSw.js";import{R as T}from"./RecentContactUsMessages-CtCnffmB.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"border-b border-gray-200"},F={class:"flex space-x-6","aria-label":"Tabs"},E=["onClick"],Z={__name:"Tabsystem",props:{items:{type:Array,required:!0},modelValue:{type:String,required:!1}},emits:["update:modelValue"],setup(i,{emit:g}){const c=i,v=g,b=h(c.modelValue||c.items[0].key);function a(p){b.value=p,v("update:modelValue",p)}return(p,m)=>(l(),n("div",H,[t("nav",F,[(l(!0),n(f,null,w(i.items,d=>(l(),n("button",{key:d.key,onClick:u=>a(d.key),class:k(["px-4 py-2 text-sm font-medium transition-colors duration-150",b.value===d.key?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300 border-b-2 border-transparent"])},o(d.label),11,E))),128))])]))}},G={class:"bg-white rounded-xl shadow-lg w-full max-w-md overflow-hidden"},J={class:"bg-primary text-white p-6"},K={class:"text-primary-light mt-1"},Q={key:0,class:"p-2 text-sm font-medium text-green-700 bg-green-100 border border-green-300 rounded"},W={key:1,class:"p-2 mt-2 text-sm font-medium text-red-700 bg-red-100 border border-red-300 rounded"},X={class:"p-6"},Y={class:"mb-6"},tt={class:"grid grid-cols-2 gap-3"},et=["onClick"],st={class:"block text-sm font-medium"},ot={class:"mb-6"},at={class:"bg-tertiary-light px-6 py-4 flex justify-end space-x-3"},rt=["disabled"],I={__name:"UpdateIntentionStatus",props:{isOpen:{type:Boolean,default:!1},intention:{type:Object,default:null}},emits:["close","update-status"],setup(i,{emit:g}){const c=i,v=g,b=[{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-800"},{value:"approved",label:"Approved",color:"bg-blue-100 text-blue-800"},{value:"rejected",label:"Reject",color:"bg-red-100 text-red-800"},{value:"fulfilled",label:"Fulfilled",color:"bg-green-100 text-green-800"}],a=h(""),p=h("");let m=h(""),d=h("");q(()=>a.value==="rejected"),j(()=>c.isOpen,r=>{r&&(a.value=c.intention?.status||"",p.value="")});const u=()=>{v("close")},y=()=>{if(!a.value)return;let r={intentionId:c.intention?.id,status:a.value,notes:p.value};axios.patch("/update_intention/status",r).then(e=>{e.status===200&&(m.value=e.data.message,d.value="",setTimeout(()=>{u(),m.value="",a.value="",p.value="",v("update-status")},3e3))}).catch(e=>{e&&(d.value=e.response.data.message,m.value="")})};return(r,e)=>i.isOpen?(l(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:U(u,["self"])},[t("div",G,[t("div",J,[e[1]||(e[1]=t("h2",{class:"text-xl font-bold"},"Update Mass Intention Status",-1)),t("p",K,"Update the status for "+o(i.intention?.first_name)+" "+o(i.intention?.last_name),1),C(m)?(l(),n("div",Q,o(C(m)),1)):x("",!0),C(d)?(l(),n("div",W,o(C(d)),1)):x("",!0)]),t("div",X,[t("div",Y,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-secondary-dark mb-2"},"Select Status",-1)),t("div",tt,[(l(),n(f,null,w(b,s=>t("button",{key:s.value,onClick:_=>a.value=s.value,class:k(["p-3 rounded-lg border text-center transition-all duration-200",{"border-primary bg-primary/10 text-primary-dark":a.value===s.value,"border-tertiary-dark/30 hover:border-primary/50":a.value!==s.value}])},[t("span",st,o(s.label),1)],10,et)),64))])]),t("div",ot,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-secondary-dark mb-2"},"Notes (Optional)",-1)),z(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),rows:"3",placeholder:"Add any additional notes here...",class:"w-full px-4 py-2 border border-tertiary-dark/30 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors duration-200 resize-none"},null,512),[[D,p.value]])])]),t("div",at,[t("button",{onClick:u,class:"px-4 py-2 border border-secondary-light text-secondary-dark rounded-lg hover:bg-white transition-colors"}," Cancel "),t("button",{onClick:y,class:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a.value}," Update Status ",8,rt)])])])):x("",!0)}},lt={class:"w-full"},nt={class:"hidden md:block overflow-hidden rounded-xl shadow-sm border border-tertiary-dark/20"},dt={class:"w-full"},it={class:"bg-white divide-y divide-tertiary-dark/10"},ct={class:"px-2 py-4 whitespace-nowrap"},ut={class:"text-sm font-medium text-secondary-dark"},pt={class:"px-2 py-4 whitespace-nowrap"},mt={class:"text-sm font-medium text-secondary-dark"},xt={class:"px-2 py-4 whitespace-nowrap"},yt={class:"text-sm text-secondary"},vt={key:0,class:"text-sm text-secondary-light"},ht={class:"px-2 py-4 whitespace-nowrap"},gt={class:"text-sm text-secondary-dark"},bt={key:0,class:"text-sm text-secondary-light"},ft={key:1,class:"text-sm text-secondary-light"},_t={class:"px-2 py-4"},kt={class:"text-sm text-secondary-dark line-clamp-2"},wt={class:"px-2 py-4 whitespace-nowrap"},$t={class:"px-2 py-4 whitespace-nowrap"},Ct={class:"text-sm text-secondary-light"},Rt={class:"px-2 py-4 whitespace-nowrap text-sm font-medium"},St=["onClick"],Mt=["onClick"],qt=["onClick"],jt={class:"md:hidden space-y-4"},zt={class:"flex justify-between items-start"},Dt={class:"text-lg font-medium text-secondary-dark"},Ut={class:"mt-2 space-y-1"},Ot={class:"flex items-center text-sm text-secondary"},It={key:0,class:"flex items-center text-sm text-secondary"},Vt={class:"flex items-center text-sm text-secondary"},At={class:"mt-3"},Lt={class:"text-sm text-secondary-dark line-clamp-3"},Pt={class:"mt-4 flex space-x-3"},Bt=["onClick"],Tt=["onClick"],Nt={class:"mt-6 flex items-center justify-between"},Ht={class:"text-sm text-secondary-light"},Ft={class:"flex space-x-2"},Et=["onClick","innerHTML"],Zt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-40"},Gt={class:"bg-white rounded-xl shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Jt={class:"p-6"},Kt={class:"flex justify-between items-start mb-6"},Qt={class:"space-y-4"},Wt={class:"text-lg text-secondary-dark"},Xt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Yt={class:"text-secondary-dark"},te={key:0},ee={class:"text-secondary-dark"},se={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},oe={class:"text-secondary-dark"},ae={key:0},re={class:"text-secondary-dark"},le={key:1},ne={class:"text-secondary-dark"},de={class:"text-secondary-dark whitespace-pre-wrap"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ce={class:"text-secondary-dark capitalize"},ue={class:"text-secondary-dark"},pe={class:"mt-6 flex justify-end space-x-3"},me={__name:"RecentMassIntentions",props:{intentions:{type:Object,required:!0}},emits:["paginate","delete","update-status"],setup(i,{emit:g}){const c=h(!1),v=r=>{c.value=!0},b=()=>{a.value=null,O.visit(window.location.href,{preserveScroll:!0})},a=h(null),p={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},m=r=>{a.value=r},d=r=>{a.value=r,v()},u=r=>{confirm("Are you sure you want to delete this mass intention?")&&axios.delete(`/delete_intention/${r.id}`).then(e=>{e.status===200&&alert(e.data.message)}).catch(e=>{console.log(e),alert("Couldn't delete item, please try again")})},y=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(r,e)=>(l(),n(f,null,[$(I,{isOpen:c.value,intention:a.value,onClose:e[0]||(e[0]=s=>c.value=!1),onUpdateStatus:b},null,8,["isOpen","intention"]),t("div",lt,[t("div",nt,[t("table",dt,[e[5]||(e[5]=t("thead",{class:"bg-tertiary-light"},[t("tr",null,[t("th",{class:"py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"S/N"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Requester"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Contact Info"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Location"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Intention Details"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Status"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Date"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Actions")])],-1)),t("tbody",it,[(l(!0),n(f,null,w(i.intentions.data,(s,_)=>(l(),n("tr",{key:s.id,class:"hover:bg-tertiary-light/30 transition-colors duration-150"},[t("td",ct,[t("div",ut,o(_+1),1)]),t("td",pt,[t("div",mt,o(s.first_name)+" "+o(s.last_name),1)]),t("td",xt,[t("div",yt,o(s.email),1),s.phone?(l(),n("div",vt,o(s.phone),1)):x("",!0)]),t("td",ht,[t("div",gt,o(s.city),1),s.state?(l(),n("div",bt,o(s.state),1)):x("",!0),s.zip?(l(),n("div",ft,o(s.zip),1)):x("",!0)]),t("td",_t,[t("div",kt,o(s.details),1)]),t("td",wt,[t("span",{class:k(["px-2.5 py-0.5 rounded-full text-xs font-medium capitalize",p[s.status]])},o(s.status),3)]),t("td",$t,[t("div",Ct,o(y(s.created_at)),1)]),t("td",Rt,[t("button",{onClick:R=>m(s),class:"text-primary hover:text-primary-dark mr-3"},"View",8,St),t("button",{onClick:R=>d(s),class:"text-secondary hover:text-secondary-dark mr-3"},"Status",8,Mt),t("button",{onClick:R=>u(s),class:"text-red-500 hover:text-red-700"},"Delete",8,qt)])]))),128))])])]),t("div",jt,[(l(!0),n(f,null,w(i.intentions.data,s=>(l(),n("div",{key:s.id,class:"bg-white rounded-xl shadow-sm p-4 border border-tertiary-dark/10"},[t("div",zt,[t("h3",Dt,o(s.first_name)+" "+o(s.last_name),1),t("span",{class:k(["px-2.5 py-0.5 rounded-full text-xs font-medium capitalize",p[s.status]])},o(s.status),3)]),t("div",Ut,[t("div",Ot,[e[6]||(e[6]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),S(" "+o(s.email),1)]),s.phone?(l(),n("div",It,[e[7]||(e[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),S(" "+o(s.phone),1)])):x("",!0),t("div",Vt,[e[8]||(e[8]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),S(" "+o(s.city)+o(s.state?", "+s.state:"")+o(s.zip?" "+s.zip:""),1)])]),t("div",At,[t("p",Lt,o(s.details),1)]),t("div",Pt,[t("button",{onClick:_=>m(s),class:"flex-1 bg-primary text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-primary-dark transition-colors"}," View Details ",8,Bt),t("button",{onClick:_=>u(s),class:"flex-1 border border-red-500 text-red-500 py-2 px-4 rounded-lg text-sm font-medium hover:bg-red-50 transition-colors"}," Delete ",8,Tt)])]))),128))]),t("div",Nt,[t("div",Ht," Showing "+o(i.intentions.from)+" to "+o(i.intentions.to)+" of "+o(i.intentions.total)+" results ",1),t("div",Ft,[(l(!0),n(f,null,w(i.intentions.links,(s,_)=>(l(),n("button",{key:_,onClick:R=>s.url&&r.$emit("paginate",s.url),class:k(["px-3 py-1 rounded-lg text-sm font-medium transition-colors",{"bg-primary text-white":s.active,"text-secondary-dark hover:bg-tertiary-light":!s.active&&s.url,"text-secondary-light cursor-not-allowed":!s.url}]),innerHTML:s.label},null,10,Et))),128))])]),a.value?(l(),n("div",Zt,[t("div",Gt,[t("div",Jt,[t("div",Kt,[e[10]||(e[10]=t("h2",{class:"text-xl font-bold text-secondary-dark"},"Mass Intention Details",-1)),t("button",{onClick:e[1]||(e[1]=s=>a.value=null),class:"text-secondary-light hover:text-secondary-dark"},[...e[9]||(e[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Qt,[t("div",null,[e[11]||(e[11]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Requester",-1)),t("p",Wt,o(a.value.first_name)+" "+o(a.value.last_name),1)]),t("div",Xt,[t("div",null,[e[12]||(e[12]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Email",-1)),t("p",Yt,o(a.value.email),1)]),a.value.phone?(l(),n("div",te,[e[13]||(e[13]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Phone",-1)),t("p",ee,o(a.value.phone),1)])):x("",!0)]),t("div",se,[t("div",null,[e[14]||(e[14]=t("h3",{class:"text-sm font-medium text-secondary-light"},"City",-1)),t("p",oe,o(a.value.city),1)]),a.value.state?(l(),n("div",ae,[e[15]||(e[15]=t("h3",{class:"text-sm font-medium text-secondary-light"},"State",-1)),t("p",re,o(a.value.state),1)])):x("",!0),a.value.zip?(l(),n("div",le,[e[16]||(e[16]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Zip Code",-1)),t("p",ne,o(a.value.zip),1)])):x("",!0)]),t("div",null,[e[17]||(e[17]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Intention Details",-1)),t("p",de,o(a.value.details),1)]),t("div",ie,[t("div",null,[e[18]||(e[18]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Status",-1)),t("p",ce,o(a.value.status),1)]),t("div",null,[e[19]||(e[19]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Submitted",-1)),t("p",ue,o(y(a.value.created_at)),1)])])]),t("div",pe,[t("button",{onClick:e[2]||(e[2]=s=>a.value=null),class:"px-4 py-2 border border-secondary-light text-secondary-dark rounded-lg hover:bg-tertiary-light transition-colors"}," Close "),t("button",{onClick:e[3]||(e[3]=s=>d(a.value)),class:"px-4 py-2 bg-secondary text-white rounded-lg hover:bg-secondary-dark transition-colors"}," Update Status "),t("button",{onClick:e[4]||(e[4]=s=>u(a.value)),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"}," Delete ")])])])])):x("",!0)])],64))}},xe=N(me,[["__scopeId","data-v-d1a377e9"]]),ye={class:"bg-white rounded-xl shadow-lg w-full max-w-md overflow-hidden"},ve={class:"bg-primary text-white p-6"},he={class:"text-primary-light mt-1"},ge={key:0,class:"p-2 text-sm font-medium text-green-700 bg-green-100 border border-green-300 rounded"},be={key:1,class:"p-2 mt-2 text-sm font-medium text-red-700 bg-red-100 border border-red-300 rounded"},fe={class:"p-6"},_e={class:"mb-6"},ke={class:"grid grid-cols-2 gap-3"},we=["onClick"],$e={class:"block text-sm font-medium"},Ce={class:"mb-6"},Re={class:"bg-tertiary-light px-6 py-4 flex justify-end space-x-3"},Se=["disabled"],Me={__name:"UpdatePrayerRequestStatus",props:{isOpen:{type:Boolean,default:!1},prayerRequest:{type:Object,default:null}},emits:["close","update-status"],setup(i,{emit:g}){const c=i,v=g,b=[{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-800"},{value:"approved",label:"Approved",color:"bg-blue-100 text-blue-800"},{value:"rejected",label:"Reject",color:"bg-red-100 text-red-800"},{value:"fulfilled",label:"Fulfilled",color:"bg-green-100 text-green-800"}],a=h(""),p=h("");let m=h(""),d=h("");q(()=>a.value==="rejected"),j(()=>c.isOpen,r=>{r&&(a.value=c.intention?.status||"",p.value="")});const u=()=>{v("close")},y=()=>{if(!a.value)return;let r={prayerRequest:c.prayerRequest?.id,status:a.value,notes:p.value};console.log(c.prayerRequest.id),axios.patch("/update_prayer_request/status",r).then(e=>{e.status===200&&(m.value=e.data.message,d.value="",setTimeout(()=>{u(),m.value="",a.value="",p.value="",v("update-status")},3e3))}).catch(e=>{e&&(d.value=e.response.data.message,m.value="")})};return(r,e)=>i.isOpen?(l(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:U(u,["self"])},[t("div",ye,[t("div",ve,[e[1]||(e[1]=t("h2",{class:"text-xl font-bold"},"Update Prayer request Status",-1)),t("p",he,"Update the status for "+o(i.prayerRequest?.first_name)+" "+o(i.prayerRequest?.last_name),1),C(m)?(l(),n("div",ge,o(C(m)),1)):x("",!0),C(d)?(l(),n("div",be,o(C(d)),1)):x("",!0)]),t("div",fe,[t("div",_e,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-secondary-dark mb-2"},"Select Status",-1)),t("div",ke,[(l(),n(f,null,w(b,s=>t("button",{key:s.value,onClick:_=>a.value=s.value,class:k(["p-3 rounded-lg border text-center transition-all duration-200",{"border-primary bg-primary/10 text-primary-dark":a.value===s.value,"border-tertiary-dark/30 hover:border-primary/50":a.value!==s.value}])},[t("span",$e,o(s.label),1)],10,we)),64))])]),t("div",Ce,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-secondary-dark mb-2"},"Notes (Optional)",-1)),z(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),rows:"3",placeholder:"Add any additional notes here...",class:"w-full px-4 py-2 border border-tertiary-dark/30 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-colors duration-200 resize-none"},null,512),[[D,p.value]])])]),t("div",Re,[t("button",{onClick:u,class:"px-4 py-2 border border-secondary-light text-secondary-dark rounded-lg hover:bg-white transition-colors"}," Cancel "),t("button",{onClick:y,class:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a.value}," Update Status ",8,Se)])])])):x("",!0)}},qe={class:"w-full"},je={key:0,class:"hidden md:block overflow-hidden rounded-xl shadow-sm border border-tertiary-dark/20"},ze={class:"w-full"},De={class:"bg-white divide-y divide-tertiary-dark/10"},Ue={class:"px-2 py-4 whitespace-nowrap"},Oe={class:"text-sm font-medium text-secondary-dark"},Ie={class:"px-2 py-4 whitespace-nowrap"},Ve={class:"text-sm font-medium text-secondary-dark"},Ae={class:"px-2 py-4 whitespace-nowrap"},Le={class:"text-sm text-secondary-dark"},Pe={class:"px-2 py-4"},Be={class:"text-sm text-secondary-dark line-clamp-2"},Te={class:"px-2 py-4 whitespace-nowrap"},Ne={class:"px-2 py-4 whitespace-nowrap"},He={class:"text-sm text-secondary-light"},Fe={class:"px-2 py-4 whitespace-nowrap text-sm font-medium"},Ee=["onClick"],Ze=["onClick"],Ge=["onClick"],Je={key:1,class:"md:hidden space-y-4"},Ke={class:"flex justify-between items-start"},Qe={class:"text-lg font-medium text-secondary-dark"},We={class:"mt-2"},Xe={class:"text-sm text-secondary-dark line-clamp-3"},Ye={class:"mt-4 flex space-x-3"},ts=["onClick"],es=["onClick"],ss={key:2,class:"mt-6 flex items-center justify-between"},os={class:"text-sm text-secondary-light"},as={class:"flex space-x-2"},rs=["onClick","innerHTML"],ls={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-40"},ns={class:"bg-white rounded-xl shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"},ds={class:"p-6"},is={class:"flex justify-between items-start mb-6"},cs={class:"space-y-4"},us={class:"text-lg text-secondary-dark"},ps={class:"text-secondary-dark"},ms={class:"text-secondary-dark whitespace-pre-wrap"},xs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ys={class:"text-secondary-dark capitalize"},vs={class:"text-secondary-dark"},hs={class:"mt-6 flex justify-end space-x-3"},gs={__name:"RecentPrayerRequests",props:{prayerRequests:{type:Object,required:!0}},setup(i){const g=h(!1),c=h(null),v={pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800",fulfilled:"bg-green-100 text-green-800"},b=y=>{g.value=!0},a=y=>{c.value=y},p=y=>{c.value=y,b()},m=()=>{c.value=null,O.visit(window.location.href,{preserveScroll:!0})},d=y=>{confirm("Are you sure you want to delete this prayer request?")&&axios.delete(`/prayer_request/${y.id}`).then(r=>{r.status===200&&alert(r.data.message)}).catch(()=>alert("Couldn't delete item, please try again"))},u=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(y,r)=>(l(),n(f,null,[$(Me,{isOpen:g.value,prayerRequest:c.value,onClose:r[0]||(r[0]=e=>g.value=!1),onUpdateStatus:m},null,8,["isOpen","prayerRequest"]),t("div",qe,[i.prayerRequests?.data?.length?(l(),n("div",je,[t("table",ze,[r[5]||(r[5]=t("thead",{class:"bg-tertiary-light"},[t("tr",null,[t("th",{class:"py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"S/N"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Requester"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Contact Info"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Prayer Request"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Status"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Date"),t("th",{class:"px-2 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Actions")])],-1)),t("tbody",De,[(l(!0),n(f,null,w(i.prayerRequests.data,(e,s)=>(l(),n("tr",{key:e.id,class:"hover:bg-tertiary-light/30 transition-colors duration-150"},[t("td",Ue,[t("div",Oe,o(s+1),1)]),t("td",Ie,[t("div",Ve,o(e.first_name)+" "+o(e.last_name),1)]),t("td",Ae,[t("div",Le,o(e.email),1)]),t("td",Pe,[t("div",Be,o(e.prayer_request),1)]),t("td",Te,[t("span",{class:k(["px-2.5 py-0.5 rounded-full text-xs font-medium capitalize",v[e.status]])},o(e.status),3)]),t("td",Ne,[t("div",He,o(u(e.created_at)),1)]),t("td",Fe,[t("button",{onClick:_=>a(e),class:"text-primary hover:text-primary-dark mr-3"},"View",8,Ee),t("button",{onClick:_=>p(e),class:"text-secondary hover:text-secondary-dark mr-3"},"Status",8,Ze),t("button",{onClick:_=>d(e),class:"text-red-500 hover:text-red-700"},"Delete",8,Ge)])]))),128))])])])):x("",!0),i.prayerRequests?.data?.length?(l(),n("div",Je,[(l(!0),n(f,null,w(i.prayerRequests.data,e=>(l(),n("div",{key:e.id,class:"bg-white rounded-xl shadow-sm p-4 border border-tertiary-dark/10"},[t("div",Ke,[t("h3",Qe,o(e.first_name)+" "+o(e.last_name),1),t("span",{class:k(["px-2.5 py-0.5 rounded-full text-xs font-medium capitalize",v[e.status]])},o(e.status),3)]),t("div",We,[t("p",Xe,o(e.prayer_request),1)]),t("div",Ye,[t("button",{onClick:s=>a(e),class:"flex-1 bg-primary text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-primary-dark transition-colors"},"View Details",8,ts),t("button",{onClick:s=>d(e),class:"flex-1 border border-red-500 text-red-500 py-2 px-4 rounded-lg text-sm font-medium hover:bg-red-50 transition-colors"},"Delete",8,es)])]))),128))])):x("",!0),i.prayerRequests?.links?.length?(l(),n("div",ss,[t("div",os," Showing "+o(i.prayerRequests.from)+" to "+o(i.prayerRequests.to)+" of "+o(i.prayerRequests.total)+" results ",1),t("div",as,[(l(!0),n(f,null,w(i.prayerRequests.links,(e,s)=>(l(),n("button",{key:s,onClick:_=>e.url&&y.$emit("paginate",e.url),class:k(["px-3 py-1 rounded-lg text-sm font-medium transition-colors",{"bg-primary text-white":e.active,"text-secondary-dark hover:bg-tertiary-light":!e.active&&e.url,"text-secondary-light cursor-not-allowed":!e.url}]),innerHTML:e.label},null,10,rs))),128))])])):x("",!0),c.value?(l(),n("div",ls,[t("div",ns,[t("div",ds,[t("div",is,[r[7]||(r[7]=t("h2",{class:"text-xl font-bold text-secondary-dark"},"Prayer Request Details",-1)),t("button",{onClick:r[1]||(r[1]=e=>c.value=null),class:"text-secondary-light hover:text-secondary-dark"},[...r[6]||(r[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",cs,[t("div",null,[r[8]||(r[8]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Requester",-1)),t("p",us,o(c.value.first_name)+" "+o(c.value.last_name),1)]),t("div",null,[r[9]||(r[9]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Email",-1)),t("p",ps,o(c.value.email),1)]),t("div",null,[r[10]||(r[10]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Prayer Request",-1)),t("p",ms,o(c.value.prayer_request),1)]),t("div",xs,[t("div",null,[r[11]||(r[11]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Status",-1)),t("p",ys,o(c.value.status),1)]),t("div",null,[r[12]||(r[12]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Submitted",-1)),t("p",vs,o(u(c.value.created_at)),1)])])]),t("div",hs,[t("button",{onClick:r[2]||(r[2]=e=>c.value=null),class:"px-4 py-2 border border-secondary-light text-secondary-dark rounded-lg hover:bg-tertiary-light transition-colors"},"Close"),t("button",{onClick:r[3]||(r[3]=e=>p(c.value)),class:"px-4 py-2 bg-secondary text-white rounded-lg hover:bg-secondary-dark transition-colors"},"Update Status"),t("button",{onClick:r[4]||(r[4]=e=>d(c.value)),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"},"Delete")])])])])):x("",!0)])],64))}},bs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},fs={class:"flex items-center justify-between mb-4"},_s={class:"text-lg font-semibold text-secondary-dark"},ks={class:"space-y-2"},ws={key:0,class:"space-y-1"},$s={class:"text-3xl font-bold text-primary"},Cs={class:"text-2xl font-semibold text-green-600"},Rs={key:1},Ss={class:"text-3xl font-bold text-primary"},Ms={class:"text-sm text-secondary-light"},qs={key:0,class:"mt-4"},js={class:"w-full bg-tertiary-dark/20 rounded-full h-2"},zs={class:"text-xs text-secondary-light mt-1"},Ds={class:"w-full px-4 sm:px-6 lg:px-8"},Us={class:"mt-4"},Os={class:"mt-4 w-full"},Is={key:0},Vs={key:1},As={key:2},Ls={key:3},Fs={__name:"Dashboard",props:{massIntentions:Number,contactMessages:Number,prayerRequests:Number,recentContacts:Array,recentPrayerRequests:Array,recentIntentions:Array},setup(i){const g={template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/></svg>'},c={template:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/></svg>'},v=i,b=h([{title:"Mass Intentions",count:v.massIntentions,type:"count",icon:g,bgColor:"bg-primary",percentage:12,progressColor:"bg-primary"},{title:"Contact Messages",count:v.contactMessages,type:"count",icon:c,bgColor:"bg-secondary",percentage:8,progressColor:"bg-secondary"},{title:"Prayer requests",count:v.prayerRequests,type:"prayer requests",bgColor:"bg-green-500",percentage:100,progressColor:"bg-green-500"}]),a=h("contacts"),p=[{key:"contacts",label:"Contact messages"},{key:"intentions",label:"Mass intentions"},{key:"prayer requests",label:"Prayer Requests"}];return(m,d)=>(l(),M(V,null,{default:A(()=>[t("div",bs,[$(I,{isOpen:m.isModalOpen,intention:m.selectedIntention,onClose:d[0]||(d[0]=u=>m.isModalOpen=!1),onUpdateStatus:m.handleStatusUpdate},null,8,["isOpen","intention","onUpdateStatus"]),(l(!0),n(f,null,w(b.value,(u,y)=>(l(),n("div",{key:y,class:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-tertiary-dark/10"},[t("div",fs,[t("h3",_s,o(u.title),1),t("div",{class:k(["p-3 rounded-full",u.bgColor])},[(l(),M(L(u.icon),{class:"w-5 h-5 text-white"}))],2)]),t("div",ks,[u.type==="donation"?(l(),n("div",ws,[t("p",$s,o(u.count),1),t("p",Cs,"$"+o(u.amount?.toLocaleString()),1),d[2]||(d[2]=t("p",{class:"text-sm text-secondary-light"},"Total received",-1))])):(l(),n("div",Rs,[t("p",Ss,o(u.count),1),t("p",Ms,"Total "+o(u.title.toLowerCase()),1)]))]),u.percentage?(l(),n("div",qs,[t("div",js,[t("div",{class:k(["h-2 rounded-full transition-all duration-1000",u.progressColor]),style:P({width:u.percentage+"%"})},null,6)]),t("p",zs,o(u.percentage)+"% from last month",1)])):x("",!0)]))),128))]),t("div",Ds,[t("div",Us,[$(B,{class:"text-gray-600",title:"Recent Activities"}),$(Z,{items:p,modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=u=>a.value=u)},null,8,["modelValue"]),t("div",Os,[a.value==="contacts"?(l(),n("div",Is,[d[3]||(d[3]=t("h2",{class:"text-lg font-semibold"},"Contact messages",-1)),$(T,{messages:i.recentContacts},null,8,["messages"])])):a.value==="intentions"?(l(),n("div",Vs,[d[4]||(d[4]=t("h2",{class:"text-lg font-semibold"},"Mass intention",-1)),$(xe,{intentions:i.recentIntentions},null,8,["intentions"])])):a.value==="prayer requests"?(l(),n("div",As,[d[5]||(d[5]=t("h2",{class:"text-lg font-semibold"},"Prayer Requests",-1)),$(gs,{prayerRequests:i.recentPrayerRequests},null,8,["prayerRequests"])])):a.value==="donations"?(l(),n("div",Ls,[...d[6]||(d[6]=[t("h2",{class:"text-lg font-semibold"},"No prayer requests",-1)])])):x("",!0)])])])]),_:1}))}};export{Fs as default};
