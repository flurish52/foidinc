import{P as f,s as b,x as y,g as p,o as c,k,b as t,v as _,H as j,j as x,c as C,w as g,a as m,d as v,l as w,t as n,i as B,F as M,p as V,n as H,f as P,y as D}from"./app-DucrWc5X.js";import{_ as z}from"./AuthenticatedLayout-BXctQaKI.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"relative inline-flex items-center cursor-pointer"},S={__name:"StatusToggle",props:{page:{type:Object,required:!0}},setup(d){const i=d,{page:u}=f(i),a=b(u.value.status==="published"),h=async()=>{const l=a.value?"published":"draft";try{await j.patch(`/admin/update_status/${u.value.slug}`,{status:l}),console.log("Status updated to",l),u.value.status=l}catch(o){console.error("Failed to update status",o),a.value=!a.value}};return y(()=>u.value.status,l=>{a.value=l==="published"}),(l,o)=>(c(),p("label",N,[k(t("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":o[0]||(o[0]=s=>a.value=s),onChange:h},null,544),[[_,a.value]]),o[1]||(o[1]=t("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer-checked:bg-blue-600 transition-colors"},null,-1)),o[2]||(o[2]=t("div",{class:"absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md peer-checked:translate-x-5 transition-transform"},null,-1))]))}},$={class:"min-h-screen bg-tertiary-light p-6"},F={class:"mb-8"},T={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},O={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},U={class:"bg-white rounded-2xl p-6 shadow-sm border border-tertiary-dark/10 hover:shadow-md transition-all duration-300"},A={class:"text-3xl font-bold text-secondary-dark"},q={class:"bg-white rounded-2xl p-6 shadow-sm border border-tertiary-dark/10 hover:shadow-md transition-all duration-300"},E={class:"text-3xl font-bold text-secondary-dark"},G={class:"bg-white rounded-2xl p-6 shadow-sm border border-tertiary-dark/10 hover:shadow-md transition-all duration-300"},I={class:"text-3xl font-bold text-secondary-dark"},R={class:"bg-white rounded-2xl p-6 shadow-sm border border-tertiary-dark/10 hover:shadow-md transition-all duration-300"},J={class:"text-lg font-bold text-secondary-dark"},K={class:"bg-white rounded-2xl shadow-sm border border-tertiary-dark/10 overflow-hidden"},Q={class:"divide-y divide-tertiary-dark/10"},W={class:"flex items-start justify-between"},X={class:"flex items-start gap-4 flex-1 min-w-0"},Y={class:"flex-1 min-w-0"},Z={class:"text-lg font-semibold text-secondary-dark truncate"},tt={class:"text-sm text-secondary-light mt-1"},et={class:"flex items-center gap-4 mt-3"},st={class:"text-sm text-secondary-light"},rt={class:"flex items-center gap-3 ml-4 flex-shrink-0"},ot={class:"p-2 text-secondary hover:text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"publish"},at=["onClick"],lt={key:0,class:"text-center py-16"},nt={__name:"Pages",props:{pages:{type:Object,required:!0,default:()=>({data:[],total:0})}},setup(d){const i=d,u=x(()=>i.pages.data.filter(s=>s.status==="published").length),a=x(()=>i.pages.data.filter(s=>s.status==="draft").length),h=x(()=>{if(i.pages.data.length===0)return"Never";const s=i.pages.data.map(r=>new Date(r.updated_at)),e=new Date(Math.max(...s));return o(e)}),l=s=>{confirm("Are you sure you want to delete this page? This action cannot be undone.")&&D.delete(`/pages/${s}`)},o=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return(s,e)=>(c(),C(z,null,{default:g(()=>[t("div",$,[t("div",F,[t("div",T,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-3xl font-bold text-secondary-dark"},"Content Management"),t("p",{class:"text-secondary-light mt-2"},"Create and manage your website pages")],-1)),m(v(w),{href:"/admin/create_page",class:"group flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl shadow-sm hover:bg-primary-dark transition-all duration-200 transform hover:-translate-y-0.5"},{default:g(()=>[...e[0]||(e[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),t("span",{class:"font-medium"},"New Page",-1)])]),_:1})])]),t("div",O,[t("div",U,[e[3]||(e[3]=t("div",{class:"flex items-center justify-between mb-4"},[t("div",{class:"p-3 bg-primary/10 rounded-xl"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-secondary-light mb-1"},"Total Pages",-1)),t("p",A,n(d.pages.total),1)])]),t("div",q,[e[5]||(e[5]=t("div",{class:"flex items-center justify-between mb-4"},[t("div",{class:"p-3 bg-green-100 rounded-xl"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])],-1)),t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-secondary-light mb-1"},"Published",-1)),t("p",E,n(u.value),1)])]),t("div",G,[e[7]||(e[7]=t("div",{class:"flex items-center justify-between mb-4"},[t("div",{class:"p-3 bg-yellow-100 rounded-xl"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])])],-1)),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-secondary-light mb-1"},"Drafts",-1)),t("p",I,n(a.value),1)])]),t("div",R,[e[9]||(e[9]=t("div",{class:"flex items-center justify-between mb-4"},[t("div",{class:"p-3 bg-blue-100 rounded-xl"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-secondary-light mb-1"},"Last Updated",-1)),t("p",J,n(h.value),1)])])]),t("div",K,[e[17]||(e[17]=t("div",{class:"px-6 py-4 border-b border-tertiary-dark/10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[t("h2",{class:"text-lg font-semibold text-secondary-dark"},"All Pages"),t("div",{class:"flex gap-2"},[t("button",{class:"px-4 py-2 text-sm border border-tertiary-dark/20 rounded-lg hover:bg-tertiary-light transition-colors"}," Filter "),t("button",{class:"px-4 py-2 text-sm border border-tertiary-dark/20 rounded-lg hover:bg-tertiary-light transition-colors"}," Sort ")])],-1)),t("div",Q,[(c(!0),p(M,null,V(d.pages.data,r=>(c(),p("div",{key:r.id,class:"p-6 hover:bg-tertiary-light/20 transition-colors duration-200"},[t("div",W,[t("div",X,[e[10]||(e[10]=t("div",{class:"p-3 bg-primary/10 rounded-xl flex-shrink-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",Y,[t("h3",Z,n(r.title),1),t("p",tt,"/"+n(r.slug),1),t("div",et,[t("span",{class:H(["text-sm px-3 py-1 rounded-full font-medium",{"bg-green-100 text-green-700":r.status==="published","bg-yellow-100 text-yellow-700":r.status==="draft","bg-gray-100 text-gray-700":r.status==="archived"}])},n(r.status),3),t("span",st,n(o(r.updated_at)),1)])])]),t("div",rt,[m(v(w),{href:`/admin/edit_page/${r.slug}`,class:"p-2 text-secondary hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Edit Page"},{default:g(()=>[...e[11]||(e[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),t("div",ot,[m(S,{page:r},null,8,["page"])]),t("button",{onClick:dt=>l(r.id),class:"p-2 text-secondary hover:text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Page"},[...e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,at)])])]))),128))]),d.pages.data.length===0?(c(),p("div",lt,[e[14]||(e[14]=t("div",{class:"w-24 h-24 mx-auto mb-6 bg-tertiary-light rounded-full flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-tertiary-dark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-secondary-dark mb-2"},"No pages created yet",-1)),e[16]||(e[16]=t("p",{class:"text-secondary-light mb-6"},"Get started by creating your first page",-1)),m(v(w),{href:"/admin/create_page",class:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"},{default:g(()=>[...e[13]||(e[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),P(" Create First Page ",-1)])]),_:1})])):B("",!0)])])]),_:1}))}},gt=L(nt,[["__scopeId","data-v-686baed4"]]);export{gt as default};
