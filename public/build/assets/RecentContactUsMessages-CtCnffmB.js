import{s as g,g as r,o as n,b as t,i as c,F as u,p as h,t as o,f as v,n as _,y as w}from"./app-DucrWc5X.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"w-full"},b={class:"hidden md:block overflow-hidden rounded-xl shadow-sm border border-tertiary-dark/20"},C={class:"w-full"},M={class:"bg-white divide-y divide-tertiary-dark/10"},$={class:"px-6 py-4 whitespace-nowrap"},j={class:"text-sm font-medium text-secondary-dark"},D={class:"px-6 py-4 whitespace-nowrap"},V={class:"text-sm font-medium text-secondary-dark"},B={class:"px-6 py-4 whitespace-nowrap"},L={class:"text-sm text-secondary"},S={key:0,class:"text-sm text-secondary-light"},N={class:"px-6 py-4"},z={class:"text-sm text-secondary-dark line-clamp-2"},R={class:"px-6 py-4 whitespace-nowrap"},F={class:"text-sm text-secondary-light"},H={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},T=["onClick"],U=["onClick"],A={class:"md:hidden space-y-4"},E={class:"flex justify-between items-start"},I={class:"text-lg font-medium text-secondary-dark"},q={class:"text-sm text-secondary-light"},O={class:"mt-2 space-y-1"},P={class:"flex items-center text-sm text-secondary"},G={key:0,class:"flex items-center text-sm text-secondary"},J={class:"mt-3"},K={class:"text-sm text-secondary-dark line-clamp-3"},Q={class:"mt-4 flex space-x-3"},W=["onClick"],X=["onClick"],Y={class:"mt-6 flex items-center justify-between"},Z={class:"text-sm text-secondary-light"},tt={class:"flex space-x-2"},et=["onClick","innerHTML"],st={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},ot={class:"bg-white rounded-xl shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"},at={class:"p-6"},rt={class:"flex justify-between items-start mb-6"},nt={class:"space-y-4"},it={class:"text-lg text-secondary-dark"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lt={class:"text-secondary-dark"},ct={key:0},xt={class:"text-secondary-dark"},mt={class:"text-secondary-dark whitespace-pre-wrap"},ut={class:"text-secondary-dark"},ht={class:"mt-6 flex justify-end space-x-3"},pt={__name:"RecentContactUsMessages",props:{messages:{type:Object,required:!0}},emits:["paginate","delete"],setup(d,{emit:yt}){const a=g(null),p=i=>{a.value=i},x=i=>{confirm("Are you sure you want to delete this mass intention?")&&axios.delete(`/delete_contact_message/${i.id}`).then(e=>{e.status===200&&(alert(e.data.message),w.visit(window.location.href,{preserveScroll:!0}))}).catch(e=>{console.log(e),alert("Couldn't delete item, please try again")})},m=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(i,e)=>(n(),r("div",k,[t("div",b,[t("table",C,[e[3]||(e[3]=t("thead",{class:"bg-tertiary-light"},[t("tr",null,[t("th",{class:"px-6 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"S/N"),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Name"),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Contact Info"),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Message"),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Date"),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-secondary-dark uppercase tracking-wider"},"Actions")])],-1)),t("tbody",M,[(n(!0),r(u,null,h(d.messages.data,(s,l)=>(n(),r("tr",{key:s.id,class:"hover:bg-tertiary-light/30 transition-colors duration-150"},[t("td",$,[t("div",j,o(l+1),1)]),t("td",D,[t("div",V,o(s.name),1)]),t("td",B,[t("div",L,o(s.email),1),s.phone?(n(),r("div",S,o(s.phone),1)):c("",!0)]),t("td",N,[t("div",z,o(s.message),1)]),t("td",R,[t("div",F,o(m(s.created_at)),1)]),t("td",H,[t("button",{onClick:y=>p(s),class:"text-primary hover:text-primary-dark mr-3"},"View",8,T),t("button",{onClick:y=>x(s),class:"text-red-500 hover:text-red-700"},"Delete",8,U)])]))),128))])])]),t("div",A,[(n(!0),r(u,null,h(d.messages.data,s=>(n(),r("div",{key:s.id,class:"bg-white rounded-xl shadow-sm p-4 border border-tertiary-dark/10"},[t("div",E,[t("h3",I,o(s.name),1),t("span",q,o(m(s.created_at)),1)]),t("div",O,[t("div",P,[e[4]||(e[4]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),v(" "+o(s.email),1)]),s.phone?(n(),r("div",G,[e[5]||(e[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),v(" "+o(s.phone),1)])):c("",!0)]),t("div",J,[t("p",K,o(s.message),1)]),t("div",Q,[t("button",{onClick:l=>p(s),class:"flex-1 bg-primary text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-primary-dark transition-colors"}," View Message ",8,W),t("button",{onClick:l=>x(s),class:"flex-1 border border-red-500 text-red-500 py-2 px-4 rounded-lg text-sm font-medium hover:bg-red-50 transition-colors"}," Delete ",8,X)])]))),128))]),t("div",Y,[t("div",Z," Showing "+o(d.messages.from)+" to "+o(d.messages.to)+" of "+o(d.messages.total)+" results ",1),t("div",tt,[(n(!0),r(u,null,h(d.messages.links,(s,l)=>(n(),r("button",{key:l,onClick:y=>s.url&&i.$emit("paginate",s.url),class:_(["px-3 py-1 rounded-lg text-sm font-medium transition-colors",{"bg-primary text-white":s.active,"text-secondary-dark hover:bg-tertiary-light":!s.active&&s.url,"text-secondary-light cursor-not-allowed":!s.url}]),innerHTML:s.label},null,10,et))),128))])]),a.value?(n(),r("div",st,[t("div",ot,[t("div",at,[t("div",rt,[e[7]||(e[7]=t("h2",{class:"text-xl font-bold text-secondary-dark"},"Message Details",-1)),t("button",{onClick:e[0]||(e[0]=s=>a.value=null),class:"text-secondary-light hover:text-secondary-dark"},[...e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",nt,[t("div",null,[e[8]||(e[8]=t("h3",{class:"text-sm font-medium text-secondary-light"},"From",-1)),t("p",it,o(a.value.name),1)]),t("div",dt,[t("div",null,[e[9]||(e[9]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Email",-1)),t("p",lt,o(a.value.email),1)]),a.value.phone?(n(),r("div",ct,[e[10]||(e[10]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Phone",-1)),t("p",xt,o(a.value.phone),1)])):c("",!0)]),t("div",null,[e[11]||(e[11]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Message",-1)),t("p",mt,o(a.value.message),1)]),t("div",null,[e[12]||(e[12]=t("h3",{class:"text-sm font-medium text-secondary-light"},"Received",-1)),t("p",ut,o(m(a.value.created_at)),1)])]),t("div",ht,[t("button",{onClick:e[1]||(e[1]=s=>a.value=null),class:"px-4 py-2 border border-secondary-light text-secondary-dark rounded-lg hover:bg-tertiary-light transition-colors"}," Close "),t("button",{onClick:e[2]||(e[2]=s=>x(a.value)),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"}," Delete Message ")])])])])):c("",!0)]))}},_t=f(pt,[["__scopeId","data-v-c35a4e06"]]);export{_t as R};
