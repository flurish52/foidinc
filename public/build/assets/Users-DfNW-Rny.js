import{s as x,R as V,c as D,o as n,w as h,b as e,n as E,g as i,i as b,a as L,d as $,l as A,f as u,F as C,p as j,t as a,e as N,k as v,m as _,q as S,y as M}from"./app-DucrWc5X.js";import{_ as H}from"./AuthenticatedLayout-BXctQaKI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"flex justify-between items-center mb-6"},R={class:"hidden md:block bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},T={class:"w-full text-sm"},F={class:"divide-y divide-gray-100 dark:divide-gray-700"},G={class:"p-4 text-gray-800 dark:text-gray-200 font-medium"},I={class:"p-4 text-gray-600 dark:text-gray-400"},J={class:"p-4"},K={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 capitalize"},O={class:"p-4 text-right space-x-2"},P=["onClick"],Q=["onClick"],W=["onClick"],X={class:"grid grid-cols-1 gap-4 md:hidden"},Y={class:"flex justify-between items-start"},Z={class:"font-semibold text-gray-800 dark:text-white text-lg"},ee={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},te={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 capitalize"},re={class:"mt-4 flex space-x-3 pt-3 border-t border-gray-100 dark:border-gray-700"},se=["onClick"],oe=["onClick"],le=["onClick"],ae={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4"},ne={class:"bg-white dark:bg-gray-800 p-6 rounded-xl w-full max-w-md shadow-xl"},de={class:"space-y-4"},ie={class:"text-gray-800 dark:text-white mt-1"},ue={class:"text-gray-800 dark:text-white mt-1"},ge={class:"text-gray-800 dark:text-white mt-1 capitalize"},xe={key:1,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4"},me={class:"bg-white dark:bg-gray-800 p-6 rounded-xl w-full max-w-md shadow-xl"},ce={key:2,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4"},ke={class:"bg-white dark:bg-gray-800 p-6 rounded-xl w-full max-w-md shadow-xl"},be={class:"text-gray-600 dark:text-gray-400 mb-6"},ve={class:"text-gray-800 dark:text-white"},fe={__name:"Users",props:{users:{type:Array,required:!0}},setup(y){const U=x(!1),m=x(!1),c=x(!1),k=x(!1),o=x({}),l=V({name:"",email:"",role:"user"}),w=s=>{o.value=s,m.value=!0},p=s=>{o.value=s,l.name=s.name,l.email=s.email,l.role=s.role??"user",c.value=!0},f=s=>{o.value=s,k.value=!0},d=()=>{m.value=!1,c.value=!1,k.value=!1,o.value=null},z=()=>{axios.patch(`/admin/update/${o.value.id}`,l).then(s=>{alert(s.data.message||"User updated successfully!"),M.visit(window.location.href,{preserveScroll:!0})}).catch(s=>{alert(s.response?.data?.message||"An error occurred.")})},B=()=>{axios.delete(`/admin/delete/${o.value.id}`).then(s=>{alert(s.data.message||"User deleted successfully!"),M.visit(window.location.href,{preserveScroll:!0}),d()}).catch(s=>{alert(s.response?.data?.message||"An error occurred."),d()})};return(s,t)=>(n(),D(H,null,{default:h(()=>[e("div",{class:E(["p-6",{dark:U.value}])},[e("div",q,[t[4]||(t[4]=e("h1",{class:"text-2xl font-bold text-gray-800 dark:text-white"},"Staff Management",-1)),L($(A),{href:"/register",class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-blue-700 transition-colors"},{default:h(()=>[...t[3]||(t[3]=[u(" New staff ",-1)])]),_:1})]),e("div",R,[e("table",T,[t[8]||(t[8]=e("thead",{class:"bg-gray-50 dark:bg-gray-700 text-left"},[e("tr",null,[e("th",{class:"p-4 font-medium text-gray-600 dark:text-gray-300"},"Name"),e("th",{class:"p-4 font-medium text-gray-600 dark:text-gray-300"},"Email"),e("th",{class:"p-4 font-medium text-gray-600 dark:text-gray-300"},"Role"),e("th",{class:"p-4 font-medium text-gray-600 dark:text-gray-300 text-right"},"Actions")])],-1)),e("tbody",F,[(n(!0),i(C,null,j(y.users,r=>(n(),i("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors duration-150"},[e("td",G,a(r.name),1),e("td",I,a(r.email),1),e("td",J,[e("span",K,a(r.role??"User"),1)]),e("td",O,[e("button",{onClick:g=>w(r),class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 p-1.5 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,P),e("button",{onClick:g=>p(r),class:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 p-1.5 rounded-md hover:bg-green-50 dark:hover:bg-green-900/30 transition-colors"},[...t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Q),e("button",{onClick:g=>f(r),class:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-1.5 rounded-md hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors"},[...t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,W)])]))),128))])])]),e("div",X,[(n(!0),i(C,null,j(y.users,r=>(n(),i("div",{key:r.id,class:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700"},[e("div",Y,[e("div",null,[e("div",Z,a(r.name),1),e("div",ee,a(r.email),1)]),e("span",te,a(r.role??"User"),1)]),e("div",re,[e("button",{onClick:g=>w(r),class:"flex items-center text-blue-600 dark:text-blue-400 text-sm font-medium"},[...t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),u(" View ",-1)])],8,se),e("button",{onClick:g=>p(r),class:"flex items-center text-green-600 dark:text-green-400 text-sm font-medium"},[...t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),u(" Edit ",-1)])],8,oe),e("button",{onClick:g=>f(r),class:"flex items-center text-red-600 dark:text-red-400 text-sm font-medium"},[...t[11]||(t[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),u(" Delete ",-1)])],8,le)])]))),128))]),m.value?(n(),i("div",ae,[e("div",ne,[e("div",{class:"flex justify-between items-center mb-5"},[t[13]||(t[13]=e("h2",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"User Details",-1)),e("button",{onClick:d,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",de,[e("div",null,[t[14]||(t[14]=e("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Name",-1)),e("p",ie,a(o.value.name),1)]),e("div",null,[t[15]||(t[15]=e("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Email",-1)),e("p",ue,a(o.value.email),1)]),e("div",null,[t[16]||(t[16]=e("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Role",-1)),e("p",ge,a(o.value.role??"User"),1)])]),e("div",{class:"mt-6 flex justify-end"},[e("button",{onClick:d,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium"},"Close")])])])):b("",!0),c.value?(n(),i("div",xe,[e("div",me,[e("div",{class:"flex justify-between items-center mb-5"},[t[18]||(t[18]=e("h2",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Edit User",-1)),e("button",{onClick:d,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[17]||(t[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:N(z,["prevent"]),class:"space-y-4"},[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Name",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>l.name=r),type:"text",required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-colors"},null,512),[[_,l.name]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Email",-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>l.email=r),type:"email",required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-colors"},null,512),[[_,l.email]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Role",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>l.role=r),class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-colors"},[...t[21]||(t[21]=[e("option",{value:"user"},"User",-1),e("option",{value:"admin"},"Admin",-1),e("option",{value:"editor"},"Editor",-1),e("option",{value:"viewer"},"Viewer",-1)])],512),[[S,l.role]])]),e("div",{class:"mt-6 flex justify-end space-x-3"},[e("button",{type:"button",onClick:d,class:"px-4 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium"},"Cancel"),t[23]||(t[23]=e("button",{type:"submit",class:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm"},"Save Changes",-1))])],32)])])):b("",!0),k.value?(n(),i("div",ce,[e("div",ke,[t[26]||(t[26]=e("div",{class:"flex items-center mb-5"},[e("div",{class:"flex-shrink-0 h-10 w-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("h2",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Confirm Deletion")],-1)),e("p",be,[t[24]||(t[24]=u("Are you sure you want to delete ",-1)),e("strong",ve,a(o.value.name),1),t[25]||(t[25]=u("? This action cannot be undone.",-1))]),e("div",{class:"flex justify-end space-x-3"},[e("button",{onClick:d,class:"px-4 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium"},"Cancel"),e("button",{onClick:B,class:"px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium shadow-sm"},"Delete User")])])])):b("",!0)],2)]),_:1}))}};export{fe as default};
